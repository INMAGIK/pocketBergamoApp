
<ion-view title="{{appInfo.title}}">
  <!--  
  <ion-nav-buttons side="left">
    <button menu-toggle="left"class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
    -->
    
    <ion-header-bar  class="bar-positive">
        <button class="button icon ion-information-circled" ng-click="openModal()"></button>        
        <h1 class="title">{{appInfo.title}}</h1>
        <button class="button icon ion-help" ng-click="toggleHelp()"></button>
    </ion-header-bar>
  
  <ion-content class="has-header has-footer" scroll="false" ng-cloak>
    
    
    <div id="loader-overlay" ng-if="uiStatus.dataLoaded==false">
      <h1 class="amatic-bold">
        Loading map data
      </h1>
      <br>
      <img src="img/loader.gif" alt="loader">
      

    </div>
    <div id="main-map" class="main-map"></div>

    <!-- help -->
    <div tour ng-controller="HelpCtrl"></div>
    
    <!-- upper toolbar -->
    <div class="toolbar">
        <button class="button button-small button-positive icon ion-android-locate" ng-click="toggleGeolocation()" ng-class="{'button-assertive' : uiStatus.gps == true }">
        </button>
        <button class="button button-small button-positive icon ion-navigate" ng-click="toggleFollow()" ng-class="{'button-assertive' : uiStatus.follow == true }" ng-disabled="uiStatus.gps == false || (!uiStatus.locationInExtent)">
        </button>
        <button class="button button-small button-positive icon ion-refresh" ng-click="toggleOrientation()" ng-class="{'button-assertive' : uiStatus.orientation == true }">
        </button>
        <button class="button button-small button-positive icon ion-arrow-up-c" ng-click="toggleLockRotation()" ng-class="{'button-assertive' : uiStatus.lockRotate == true }">
        </button>
    </div>

    

    
    <!-- popover ... #TODO: move to a directive! -->
    <div class="map-popover hide" id="popup">
      <div class="map-popover-arrow"></div>
      <div class="popover-content " stop-event="click"></div>
    </div>


    <!-- hud -->
    <!--
    <div class="hud" id="hud"></div>
    -->

      
    
      
    
  </ion-content>
  <ion-footer-bar class="bar-positive">
  <div class="button-bar">
      
      <button class="button button-small button-calm icon ion-map" ng-click="openLayersBrowser()" ng-class="{'button-assertive' : panels['layers'] == true }">&nbsp;&nbsp;Map
      </button>
      <button class="button button-small button-calm icon ion-flag" ng-click="openBrowser()">&nbsp;&nbsp;Places
      </button>
      <button ng-if="config.streets != false" class="button button-small button-calm icon ion-merge" ng-click="openStreetsBrowser()">&nbsp;&nbsp;Streets
      </button>
  
  </div>
  
    
  
  </ion-footer-bar>

</ion-view>
